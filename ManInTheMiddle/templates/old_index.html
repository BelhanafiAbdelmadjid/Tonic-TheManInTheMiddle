<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informations Système</title>
</head>
<body>
    <h1>Informations Système</h1>
    <div id="system-info"></div>
    <div id="peripherals-info"></div>

    <script>
        function getOSInfo() {
            const userAgent = navigator.userAgent;
            let os = "Inconnu";

            if (userAgent.includes("Windows NT 10.0")) {
                os = "Windows 10";
            } else if (userAgent.includes("Windows NT 6.3")) {
                os = "Windows 8.1";
            } else if (userAgent.includes("Windows NT 6.2")) {
                os = "Windows 8";
            } else if (userAgent.includes("Windows NT 6.1")) {
                os = "Windows 7";
            } else if (userAgent.includes("Windows NT 6.0")) {
                os = "Windows Vista";
            } else if (userAgent.includes("Windows NT 5.1")) {
                os = "Windows XP";
            } else if (userAgent.includes("Mac")) {
                os = "macOS";
            } else if (userAgent.includes("Linux")) {
                os = "Linux";
            } else if (userAgent.includes("Android")) {
                os = "Android";
            } else if (userAgent.includes("like Mac")) {
                os = "iOS";
            }

            return os;
        }

        function getSystemInfo() {
            // Informations sur le système d'exploitation
            const os = getOSInfo();
            console.log("OS INFO:",os)
            
            // Informations sur le CPU (approximatif, via navigator)
            const cpu = navigator.hardwareConcurrency || 'N/A';
            console.log("CPU INFO:",cpu)
            
            // Taille de la mémoire (approximative, en GB)
            const memory = navigator.deviceMemory !== undefined ? navigator.deviceMemory : 'N/A';
            console.log("RAM INFO:",memory)

            if (navigator.getBattery) {
                navigator.getBattery().then(battery => {
                    console.log("BATTERY INFO:",battery)
                })
                .catch(err => {
                    console.error("Erreur lors de la récupération des informations de la batterie:");
                });
            } else {
                console.log("AN ERROR WHEN GETTING BASIC DATA")
            }
        }

        function getPeripheralsInfo() {

            // Demander l'autorisation d'accès à la caméra et au microphone
            navigator.mediaDevices.getUserMedia({ audio: true, video: true })
            // navigator.mediaDevices.enumerateDevices()
                .then(stream => {
                    // Une fois l'autorisation accordée, récupérer les périphériques
                    return navigator.mediaDevices.enumerateDevices();
                })
                .then(devices => {
                    console.log("DEVICES : ",devices)
                })
                .catch(error => {
                    console.error("Erreur lors de la récupération des périphériques:", error);
                });
        }

        // Exécuter les fonctions pour récupérer les informations système et périphériques
        getSystemInfo();
        getPeripheralsInfo();
    </script>
</body>
</html>
